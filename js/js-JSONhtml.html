<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
  <button type="button"><a href="../indij.html">Regresar</a></button>
    <h1>Â° JSON html</h1>


    <h2>Make an HTML table based on JSON data</h2>
    <p id="demo"></p>
    <img src="../medios/1.png" alt="">

<script>
const dbParam7 = JSON.stringify({table:"customers",limit:20});
const xmlhttp = new XMLHttpRequest();
xmlhttp.onload = function() {
  const myObj = JSON.parse(this.responseText);
  let text = "<table border='1'>"
  for (let x in myObj) {
    text += "<tr><td>" + myObj[x].name + "</td></tr>";
  }
  text += "</table>"    
  document.getElementById("demo").innerHTML = text;
}
xmlhttp.open("POST", "json_demo_html_table.php");
xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
xmlhttp.send("x=" + dbParam7);
</script>


<h2>Make a dynamic HTML Table</h2>

<select id="myselect" onchange="change_myselect(this.value)">
    <option value="">Choose an option:</option>
    <option value="customers">Customers</option>
    <option value="products">Products</option>
    <option value="suppliers">Suppliers</option>
  </select>
  
  <p id="demo8"></p>
  
  <script>
  function change_myselect(sel) {
    const dbParam8 = JSON.stringify({table:sel,limit:20});
    const xmlhttp = new XMLHttpRequest();
    xmlhttp.onload = function() {
      myObj = JSON.parse(this.responseText);
      text = "<table border='1'>"
      for (x in myObj) {
        text += "<tr><td>" + myObj[x].name + "</td></tr>";
      }
      text += "</table>"    
      document.getElementById("demo8").innerHTML = text;
    }
    xmlhttp.open("POST", "json_demo_html_table.php", true);
    xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    xmlhttp.send("x=" + dbParam8);
  }
  </script>



<h2>Make an HTML drop down list based on JSON data</h2>
<select name="" value="">
    <option value="">Alfreds Futterkiste</option>
    <option value=""> Ana Trujillo Emparedados y helados</option>
    <option value=""> Ana Trujillo Emparedados y helados</option>
    <option value="">Antonio Moreno Taqueria Berglunds snabbkop</option>
    <option value="">Blauer See Delikatessen</option>
    <option value=""> Blondel pere et fils</option>
    <option value=""> Bolido Comidas preparadas </option>
    <option value=""> Bon app'</option>
    <option value=""> Bottom-Dollar Marketse</option>
    <option value="">B's Beverages </option>
    <option value="">Cactus Comidas para llevar </option>
    <option value=""> Centro comercial Moctezuma</option>
    <option value=""> Chop-suey Chinese</option>
    <option value=""> Comercio Mineiro</option>
    <option value="">Consolidated Holdings </option>
    <option value="">Drachenblut Delikatessend </option>
    <option value=""> Du monde entier</option>
    <option value="">Eastern Connection </option>
    <option value=""> Ernst Handel</option>
</select>

<script>
const dbParam = JSON.stringify({table:"customers",limit:20});
const xmlhttp = new XMLHttpRequest();
xmlhttp.onload = function() {
  const myObj = JSON.parse(this.responseText);
  let text = "<select>"
  for (let x in myObj) {
    text += "<option>" + myObj[x].name + "</option>";
  }
  text += "</select>"
  document.getElementById("demo").innerHTML = text;
}
xmlhttp.open("POST", "json_demo_html_table.php");
xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
xmlhttp.send("x=" + dbParam);
</script>
</body>
</html>